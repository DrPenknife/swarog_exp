
    <!DOCTYPE html>
    <html lang="en" style="height: 100%">
    <head>
    <meta charset="utf-8">
    </head>
    <body style="height: 100%; margin: 0">
    <div id="container" style="height: 100%"></div>
    <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.4.1/dist/echarts.min.js"></script>
    <script type="text/javascript">
    var dom = document.getElementById('container');
    var myChart = echarts.init(dom, null, {
        renderer: 'png',
        useDirtyRect: false 
    }); 


    var dataframe = [['Dataset', 'BalancedAccuracy', 'G-mean'], ['COVID-FN', 3.2, 3.8], ['FN-KDD', 1.4, 1.4], ['LIAR', 0.6, 0.7], ['MM-Covid', 2.8, 2.9]];
    var app = {};
    var myoptions = {'fontSize': '16', 'barCategoryGap': '5%', 'show': 'graph', 'db': 'wyniki.db', 'stack': 'no', 'vertical': 'yes', 'width': '400', 'height': '300', 'itemBorderRadius': '10'};
    var option;

    var yAxis = { type: 'category' , axisLabel: { interval: 0, rotate:  myoptions.yrotate || 0 } };
    var xAxis = {  axisLabel: { interval: 0, rotate: myoptions.xrotate || 0 } };
 
    if(myoptions.vertical == 'yes'){ 
        tmp = xAxis;
        xAxis = yAxis
        yAxis = tmp
    }

    option = {
        title: {
            text: myoptions.title || '',
            subtext: myoptions.subtitle || ''
        },
        toolbox: {
            feature: {
              dataZoom: {
                yAxisIndex: false
              },
              saveAsImage: {
                pixelRatio: 2
              }
            }
          },
        legend: {
            top: 5,
        }, 
        tooltip: {
            trigger: 'axis',
            axisPointer: {
              type: 'shadow'
            }
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },

        dataset: {
            source:dataframe
        },
        yAxis: yAxis,
        xAxis: xAxis,
        
        series: dataframe[0].slice(1).map((bar_name,bar_index)=>({ 
            type: myoptions.type || 'bar',  
            radius: ['40%', '70%'],
            itemStyle: {
                borderRadius:  parseInt(myoptions.itemBorderRadius) || 3,
                borderColor: '#fff',
                borderWidth:  parseInt(myoptions.itemBorderWidth) || 1
            },
            stack: myoptions.stack == 'yes' || false ,
            barGap: myoptions.barGap || '1%',
            barCategoryGap: myoptions.barCategoryGap || '1%',

            label: {
                show: true,
                formatter: function(params) {
                    let v = params.value[bar_index+1]
                    return v==0?'':v 
                },
                fontSize: myoptions.fontSize || 12,
                rotate: myoptions.rotate || 0
            },
        }))
    };

    if(myoptions.type=="pie"){
        option.yAxis=undefined
        option.xAxis=undefined
    }
    
    if (option && typeof option === 'object') {
        myChart.setOption(option);
    }

    window.addEventListener('resize', myChart.resize);
    </script>
    </body>
    </html>
    